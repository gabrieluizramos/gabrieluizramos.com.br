---
path: /por-tras-das-paginas-do-javascript-assertivo

title: 'Por tr√°s das p√°ginas: JavaScript Assertivo'
subtitle: Um pouco mais sobre o lan√ßamento desse projeto especial, como foi todo o processo de escrita e uma √≥tima surpresa pra voc√™ no final
date: 2021-10-13
tags:
  - dev
  - tests

banner:
  author: Julia Kadel
  href: https://unsplash.com/photos/YmULswIbc3I
  image: ./images/2021-10-13.por-tras-das-paginas-do-javascript-assertivo/banner.jpg
---

Finalmente! Na √∫ltima sexta-feira, depois de mais de um ano de desenvolvimento, escrita e revis√£o, esse trabalho feito com tanto carinho saiu do forno.

Esse √©, muito provavelmente, o meu maior projeto at√© hoje!

### Beleza... Mas do que voc√™ t√° falando?

O [JavaScript Assertivo](http://javascriptassertivo.com.br/) √© um livro sobre testes com JavaScript e a ideia, desde o in√≠cio, era facilitar o entendimento sobre as **fundamentos** necess√°rios pra qualquer pessoa poder escrever seus testes, al√©m de trazer **exemplos realmente pr√°ticos** e que pudessem abordar os mais variados cen√°rios.

Meu pensamento era que esse livro seja uma esp√©cie de "manual" sobre o assunto, mas que ao mesmo tempo tamb√©m ajude quem l√™ a ter uma base s√≥lida sobre e saiba aplicar os conceitos e ferramentas de maneira confiante.

Dessa forma, ele pode ser consumido por diversos tipos de pessoa, independente de ter ou n√£o experi√™ncia com testes. Seu √∫nico "pr√©-requisito" √© o entendimento sobre JavaScript.

Todo o conte√∫do √© 100% pr√°tico, ent√£o ao longo do livro, diversos tipos de aplica√ß√µes s√£o testadas, onde voc√™ pode baixar, [clonar](https://github.com/gabrieluizramos/javascript-assertivo) os projetos e aplicar o conte√∫do do livro enquanto acompanha com a leitura!

#### Trilha e jornada na leitura

Como o intuito √© ter uma base e compreender testes em diversas camadas da aplica√ß√£o, o conhecimento vai sendo constru√≠do ao longo das partes do livro.

Cada parte cont√©m seu pr√≥prio projeto com seus conceitos e diversos tipos de testes envolvidos

Ao total, o livro √© dividido em 5 partes:

- Fundamentos: come√ßamos com todos os conceitos, teoria e diversos termos que envolvem testes, eles s√£o comentados junto com analogias e exemplos de mercado pra que os projetos possam fazer sentido pra todo mundo. Nessa etapa entenderemos as diferen√ßas dos tipos de teste e tamb√©m a famosa "pir√¢mide de teste" e o que isso significa. √â aqui que as bases do conte√∫do s√£o criadas;
- CLI: ap√≥s entender e ter uma base te√≥rica mais forte, o primeiro projeto que come√ßar√° recebendo teste **unit√°rio** √© um projeto de linha de comando. Nessa parte do livro, uma _CLI_ (interface de linha de comando ou _command-line interface_) que realiza opera√ß√µes _CRUD_ (cadastro, leitura, atualiza√ß√£o e dele√ß√£o) ser√° testada;
- Back-end: nessa terceira parte, um servi√ßo que realiza as opera√ß√µes de _CRUD_ da _CLI_ anterior atrav√©s de sua _API_ √© que ser√° a estrela. Agora os testes ser√£o um pouco mais completos, envolvendo os testes de **unidade**, **integra√ß√£o** e tamb√©m de **carga**;
- Front-end: ap√≥s a finaliza√ß√£o dos testes anteriores, precisamos entender como testar aplica√ß√µes visuais. Essa terceira parte cont√©m uma aplica√ß√£o que ser√° cliente da _API_ testada anteriormente, e tamb√©m ser√£o aplicados diversos tipos de testes como de **unidade**, **integra√ß√£o** e tamb√©m de **regress√£o visual**;
- End-to-end: a trilha n√£o estaria completa se n√£o test√°ssemos as aplica√ß√µes de **ponta-a-ponta**. Nessa parte, os testes ir√£o garantir cen√°rios envolvendo todas as camadas das aplica√ß√µes envolvidas.

Mas, tudo isso voc√™ pode ver no pr√≥prio [site](https://javascriptassertivo.com.br/) do livro, o que eu gostaria de comentar por aqui √© sobre como foi todo o processo de escrita at√© ent√£o.

### De onde essa ideia surgiu?

Testes foi sempre um assunto que me interessou.

√â bem comum entrar na √°rea de tecnologia por [diversos meios](/lacunas-de-conhecimento-e-a-importancia-de-nao-pular-etapas). Al√©m disso, quando o assunto √© programar, nem todo mundo se preocupa em aprender (ou ensinar) sobre testes.

Ent√£o, como uma boa parte da galera, testes era uma √°rea cinzenta e meio complicada pra mim. Isso mudou no momento que eu decidi entrar de cabe√ßa e entender o assunto pra n√£o ficar s√≥ corrigindo teste atrav√©s de tentativa e erro.

Naturalmente fui estudando, pesquisando, entrando mais afundo no assunto (inclusive um material que me ajudou muito foi o [Testing JavaScript](https://testingjavascript.com/), do Kent C. Dodds) e a realidade √© que testes, por si s√≥, √© um assunto bem extenso que precisa ser estudado com a mesma dedica√ß√£o que outros diversos t√≥picos na √°rea de tecnologia. N√£o √© √† toa que existem pessoas com profiss√£o dedicada somente a qualidade de software, n√©?

E foi durante essas pesquisas que eu percebi que muitas das fontes de conte√∫do sobre testes (e v√°rios outros, n√©?) s√£o de fora do Brasil.

N√£o me entenda errado, temos √≥timos conte√∫dos de qualidade por aqui! Dois que eu sempre recomendo sempre s√£o o [JS com TDD na Pr√°tica](https://www.udemy.com/course/js-com-tdd-na-pratica/) (do Willian Justen) e [Aprenda a testar Aplica√ß√µes JavaScript](https://javascript.tv.br/) (do F√°bio Vedovelli). Mas ainda assim, se comparados com os conte√∫dos internacionais, com certeza estamos em menor n√∫mero.

Isso fica ainda mais claro quando voc√™ pesquisa conte√∫do para ler. Eu gosto bastante de leitura e, na √©poca, n√£o achei nenhum livro sobre testes em JavaScript que fosse escrito em portugu√™s.

E foi a√≠ que a primeira fa√≠sca aconteceu: por qu√™ n√£o ser o primeiro? Eu j√° adoro escrever aqui no Blog, seria um passo bem interessante e um desafio que me animou assim que me veio √† cabe√ßa!

Foi a√≠ que eu comecei a montar e "desenhar" esse projeto.

### Como foi a defini√ß√£o do conte√∫do?

Como comentei, a ideia sempre foi abordar os mais variados cen√°rios de teste de forma que o livro pudesse ser um manual ou um guia sobre isso e tamb√©m facilitar todas as bases te√≥ricas necess√°rias. Mesmo assim, n√£o adianta fazer um livro t√©cnico, ainda mais sobre esse assunto, se n√£o for poss√≠vel ter exemplos pr√°ticos para quem acompanha a leitura, concorda?

Nesse ponto, eu percebi que esse desafio seria mais trabalhoso do que eu imaginei: se eu quisesse deixar os exemplos claros, eu precisaria ter projetos reais, usando tecnologias reais, pra que tudo pudesse ficar mais v√≠vido. Foi a√≠ que eu comecei a pensar nas aplica√ß√µes e nos tipos de testes que poderiam ser aplicados em cada uma delas.

Com isso, comecei a dar os primeiros passos, escrever os primeiros cap√≠tulos mais introdut√≥rios e a pensar mais afundo nos projetos. Foi enquanto esses peda√ßos iniciais foram sendo escritos que a pr√≥pria robustez do projeto foi ficando clara pra mim. Eu n√£o queria entregar um conte√∫do falho ou que explicasse somente algo superficial, ent√£o o aviso j√° fica aqui: esse livro vai ser bem denso, ele vai te fazer pensar e colocar a m√£o na massa frequentemente.

Mas se voc√™ gosta do que eu escrevo por aqui, isso muito provavelmente n√£o √© nenhuma novidade pra voc√™, n√£o √© mesmo? ü§£

### Como foi o processo de escrita?

Da mesma forma como quem l√™ tem a oportunidade de praticar, eu que escrevi o conte√∫do preciso ter o material pronto, ent√£o todos os testes e projetos s√£o acess√≠veis por qualquer pessoa que acesse o reposit√≥rio. Ent√£o n√£o foi quest√£o de fazer apenas um ou dois projetos, mas sim 3 aplica√ß√µes (CLI, Back-end e Front-end) pra que os exemplos ficassem claros e pudessem se encaixar nos cen√°rios que eu queria.

Eu costumo ter um fluxo bem simples de escrita. Eu escrevo meus posts no [Notion](https://gabrieluizramos.notion.site/), exporto o conte√∫do em markdown e crio o post aqui no blog, ent√£o foi bem f√°cil adaptar as coisas para o fluxo que a editora prop√µe.

Ao longo do desenvolvimento das aplica√ß√µes, eu fui escrevendo os cap√≠tulos "lado a lado", escrevia uma camada ou parte da aplica√ß√£o, escrevia alguns testes e elaborava os cap√≠tulos do livro.

Aqui j√° temos uma outra observa√ß√£o: n√£o, eu n√£o usei TDD (embora eu comente sobre ele no livro). Sendo bem sincero, em alguns cen√°rios eu tenho muita dificuldade de aplic√°-lo de uma forma efetiva e, como eu comentei, o livro foi feito pra que qualquer pessoa pudesse consumir com o m√≠nimo de barreira poss√≠vel. Ent√£o para quem quiser se aprofundar e come√ßar a escrever c√≥digo seguindo TDD, isso vai ser uma li√ß√£o de casa ap√≥s a leitura.

N√£o foi um trabalho f√°cil... Se "s√≥" desenvolver e realizar testes em uma aplica√ß√£o muitas vezes j√° d√° trabalho, fazer um passo-a-passo escrito de maneira que facilitasse a compreens√£o de quem est√° lendo √© algo bem desafiador.

Mas com certeza, valeu muito a pena!

#### Um livro n√£o √© um livro se n√£o tiver uma dedicat√≥ria

Quem me conhece sabe que eu sou uma manteiga derretida e eu n√£o poderia ter um projeto desses sem a dedicat√≥ria adequada e nada mais justo do que agradecer as pessoas que me apoiam e sempre me apoiaram, seja profissional ou pessoalmente.

Me marcou muito esse momento j√° que foi como uma esp√©cie de "encerramento" (embora ajustes sempre apare√ßam no conte√∫do). Foi como desbloquear uma nova conquista onde a dedicat√≥ria fosse um marco talhado em pedra dizendo: **eu consegui**.

Posso dizer facilmente que foi a parte que mais encheu meu cora√ß√£o de felicidade ao escrever. Lembro claramente de escrever os agradecimentos com os olhos marejados pensando em cada uma das pessoas que caminharam e caminham comigo e que fizeram, com certeza, parte dessa realiza√ß√£o.

#### Hora do pref√°cio

Sempre achei muito bonito as introdu√ß√µes e pref√°cios de livros que li por a√≠ e geralmente pref√°cios s√£o escritos por pessoas que possuem certa autoridade no assunto que √© abordado ao longo da leitura.

Foi a√≠ que me veio √† cabe√ßa em conversar com o Willian e ver se ele topava escrever o pref√°cio e bom, preciso dizer que ficou sensacional.

N√£o vou dar mais nenhum _spoiler_, mas adianto que √© uma introdu√ß√£o perfeita pra todo o conte√∫do que voc√™ vai encontrar nas quase 400 p√°ginas desse livro, dividido em 5 partes principais.

#### JesTip

Conforme fomos chegando ao processo de finaliza√ß√£o, eu j√° n√£o me aguentava mais de ansiedade e tive uma outra ideia.

√â muito comum (pelo menos na comunidade de tecnologia) se deparar com postagens que explicam pequenas doses de conte√∫do de forma f√°cil e direta de ser aplicada. Algumas pessoas, inclusive, chamam isso de "p√≠lulas" de conhecimento.

Com isso em mente que surgiu o JesTip (inclusive voc√™ pode encontrar essa "cole√ß√£o" [aqui no blog](/coletanea-jestip)).

Preparei uma s√©rie de 10 pequenas dicas de testes que foram publicadas no twitter de forma r√°pida e que pudesse servir de apoio pr√°tico pra alguns assuntos e detalhes comuns que encontramos em aplica√ß√µes que s√£o testadas por a√≠.

#### Revis√µes, apoio editorial, finaliza√ß√µes e claro, a capa!

Talvez n√£o tenha ficado claro, mas eu [prezo muito](/sobre) pela comunica√ß√£o e aprendizagem de conte√∫do de qualidade de forma acess√≠vel. Ent√£o com certeza eu precisava de uma editora que se alinhasse com esses valores pessoais.

Levando isso em considera√ß√£o e, sendo bem sincero, minha op√ß√£o de editora estava praticamente feita desde o in√≠cio.

Por j√° ter lido alguns livros e, principalmente, saber que o conte√∫do possui um pre√ßo mais acess√≠vel se comparado √† outras editoras e com um bom n√≠vel de qualidade, minha escolha foi f√°cil e decidi entrar em contato com a [Casa do C√≥digo](https://casadocodigo.com.br/).

A parceria iniciou antes de come√ßar a parte mais extensa do projeto. Apresentei alguns cap√≠tulos introdut√≥rios que j√° estavam prontos e tive a √≥tima resposta de que poder√≠amos seguir adiante com o conte√∫do, ent√£o foi hora de arrega√ßar as mangas e come√ßar a escrever (e desenvolver) pra valer.

Ao longo de todo o processo a editora sempre exerceu um papel fundamental me apoiando como autor e ajudando em praticamente toda a burocracia de contrato e ISBN (n√∫mero de identifica√ß√£o do livro). Foram feitas pelo menos 3 revis√µes de todo o conte√∫do que eu escrevi, sendo elas da parte did√°tica e da parte gram√°tica.

O contato com as pessoas respons√°veis foi sempre simples e muito r√°pido. Em momento algum eu me senti pressionado √† escrever, mesmo tendo terminado o conte√∫do relativamente r√°pido, tudo fluiu muito, muito bem.

Pra voc√™ ter uma ideia, at√© os cupons do livro eu pude escolher! J√° deixo aqui mais um spoiler: tem refer√™ncias de teste at√© nos cupons que vou comentar logo logo (a surpresa vem a√≠).

At√© a capa foi desenhada pela equipe da editora!

Quando chegamos nessa etapa de finaliza√ß√£o, a equipe colheu algumas ideias que eu gostaria de trazer pra arte do livro e eu precisava de algo que retratasse as diversas "camadas" de aplica√ß√µes e de testes que s√£o abordadas no livro.

Pensando nisso, a primeira coisa que me veio √† cabe√ßa foi uma "matriosca" (ou _matryoshka_): aquela boneca russa que vai abrindo dando origem a outras bonecas menores no mesmo formato, onde voc√™ pode ir tirando uma de dentro da outra.

Acabou sendo uma √≥tima liga√ß√£o, afinal, os projetos e testes do livro s√£o constru√≠dos exatamente assim, em diversas camadas, da menor at√© a maior, todas interconectadas.

Do processo de escrita e cria√ß√£o, acho que √© isso. Agora chega de enrola√ß√£o...

---

## Toda essa hist√≥ria n√£o termina por aqui

### Cad√™ a surpresa? üéÅ

Pra comemorar esse lan√ßamento t√£o importante, voc√™ que acompanha, gosta do meu conte√∫do e est√° lendo esse post, vai poder participar de um sorteio e ganhar uma c√≥pia digital do livro!

### Opa, sorteio?! Como vai funcionar?

Vai ser muito simples: at√© o fim do dia de hoje (quarta-feira, 13/10/2021), qualquer pessoa que se cadastrar na newsletter aqui pelo blog ou pelo [site do livro](http://javascriptassertivo.com.br/), j√° estar√° concorrendo.

Exatamente, sem pegadinha, sem letra mi√∫da, simples assim!

Assim que essa "data de corte" finalizar, eu vou exportar a lista de todo mundo que t√° na newsletter e realizar o sorteio.

O √∫nico ponto importante √© que voc√™ precisa apenas preencher seu nome de forma clara e utilizar um e-mail que voc√™ acesse regularmente, ok?

Caso voc√™ j√° tenha seu email cadastrado e n√£o queira participar do sorteio √© s√≥ me avisar atrav√©s de qualquer um dos contatos e redes sociais dispon√≠veis no cabe√ßalho do site, combinado?

#### Que ferramenta ser√° usada pra sortear?

Pra deixar todo o processo o mais transparente poss√≠vel e evitar usar plataformas externas onde n√£o sabemos como um sorteio √© realizado, eu fiz uma ferramenta especialmente pra essas ocasi√µes.

Assim como todo o c√≥digo do livro, voc√™ pode ver como essa ferramenta funciona olhando diretamente no [c√≥digo fonte do sorteador](https://github.com/gabrieluizramos/javascript-assertivo/tree/master/sorteador). Seu `README` est√° bem detalhado e j√° conta bastante coisa.

O sorteio √© feito com base em um array que cont√©m dados de participantes. Sua l√≥gica √© bem simples: um n√∫mero aleat√≥rio vai ser gerado, entre `0` e a quantidade total de participantes. Esse n√∫mero ser√° usado como √≠ndice no array de entrada para encontrar quem ganhou.

Isso √© feito, literalmente, em uma linha de c√≥digo e voc√™ pode ver [aqui](https://github.com/gabrieluizramos/javascript-assertivo/blob/master/sorteador/src/random.js#L1).

Vamos pensar em um cen√°rio e **imaginar** que estamos realizando esse sorteio com 10 pessoas participando. Nesse caso, ter√≠amos os dados dessas pessoas em um lista com os √≠ndices variando de `0` at√© `9`. Um n√∫mero entre essa faixa de valores (`0` at√© `9`) ser√° gerado aleatoriamente, correspondendo √† posi√ß√£o de quem foi sorteado na lista de participantes.

Simples assim, sem mist√©rio nenhum!

#### Como o resultado vai ser ser divulgado?

Assim que o sorteio for realizado eu pretendo divulgar quem ganhou o livro, al√©m de usar esse e-mail cadastrado pra entrar em contato.

Todos os sorteios v√£o ficar registrados em um [hist√≥rico](https://github.com/gabrieluizramos/javascript-assertivo/blob/master/sorteador/HISTORY.md), onde vou colocar suas informa√ß√µes (como evento e data) e o nome de quem ganhou (somente o primeiro nome, pra evitar qualquer exposi√ß√£o). Qualquer detalhe mais pessoal como sobrenome e email de contato n√£o ser√£o divulgados.

Caso a pessoa sorteada j√° tenha comprado o livro, n√£o tem problema. Ela vai receber um cupom e eu entrarei em contato mesmo assim. Assim quem ganhar pode escolher uma outra pessoa conhecida que queira presentear.

Se isso n√£o for poss√≠vel, caso eu n√£o consiga entrar em contato ou ter uma resposta de quem ganhou dentro de 24h, realizo um novo sorteio e seguimos adiante.

Espero que todo o processo tenha ficado claro pra voc√™. Minha ideia √© abrir o jogo sobre como isso vai funcionar pra que n√£o possa ter ficado nenhuma d√∫vida e todo mundo possa ter a mesa chance de ganhar.

De qualquer forma, tamb√©m fico √† disposi√ß√£o pra responder qualquer d√∫vida que possa ter ficado. Se precisar √© s√≥ entrar em contato atrav√©s das mesmas redes sociais que comentei anteriormente (al√≠ cabe√ßalho do site).

Ent√£o √© isso, bora l√°, n√£o perde tempo!

Se inscreve na newsletter abaixo (ou pelo [site do livro](https://javascriptassertivo.com.br/)) e boa sorte! ü§û
