---
path: /coletanea-jestip

title: Colet√¢nea JesTip
subtitle: Um compilado dessa s√©rie de tweets com algumas dicas de testes com JavaScript e Jest
date: 2021-09-05
tags:
  - dev
  - tests

banner:
  author: Quentin Rey
  href: https://unsplash.com/photos/Os1gNJtK_Rw
  image: ./images/2021-09-05.coletanea-jestip/banner.jpg
---

Um projeto que tenho feito com muito carinho (chamado [JavaScript Assertivo](https://javascriptassertivo.com.br/)) est√° pra ser lan√ßado e isso tem me animado bastante nos √∫ltimos tempos! Em breve devo fazer um post dedicado somente √† esse assunto.

Como eu n√£o me aguento, achei que seria um bom momento pra fazer uma s√©rie de dicas de teste com JavaScript envolvendo Jest e preparei alguns (10, no total) tweets carinhosamente apelidados de JesTips! Aproveitei pra agrupar todo o conte√∫do na hashtag [#JavaScriptAssertivo](https://twitter.com/hashtag/JavaScriptAssertivo?src=hashtag_click) no Twitter.

A ideia era comentar sobre alguns deslizes que s√£o f√°ceis de serem cometidos quando estamos testando, al√©m de falar sobre melhorias e boas-pr√°ticas que ajudam a manter nossos testes mais limpos e organizados. Isso de forma simples, com pequenos exemplos de c√≥digo e que pudessem ser facilmente aplicados em qualquer projeto.

Ent√£o pra deixar registrado por aqui tamb√©m, todos os tweets dessa pequena s√©rie v√£o ficar agrupados nesse post seguindo sua ordem de publica√ß√£o.

Espero que curta!

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Ent√£o bora pra primeira!<br><br>Realizar um mock manual sem implementa√ß√£o ap√≥s executar &quot;jest.mock&quot; √© redundante.<br><br>O Jest possui controle do sistema de arquivos e j√° realiza o mock de todas as fun√ß√µes de um m√≥dulo ap√≥s executar essa a√ß√£o.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/JbD2MWrIjA">pic.twitter.com/JbD2MWrIjA</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1428734071060975624?ref_src=twsrc%5Etfw">August 20, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>√â comum escrever testes de forma mais granular, facilitando a leitura e entendimento do c√≥digo.<br><br>Em alguns casos voc√™ pode unir testes de um mesmo contexto, reunindo asser√ß√µes e evitando repeti√ß√£o (como renderiza√ß√£o de elementos e ajuste de mocks)<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/ZtHgLrnSP1">pic.twitter.com/ZtHgLrnSP1</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1429791189834813440?ref_src=twsrc%5Etfw">August 23, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Evitar l√≥gica ao realizar seus mocks reduz esfor√ßo cognitivo e melhora a legibilidade dos seus testes.<br><br>Os m√©todos de mock auxiliam nesse momento e seus retornos ainda podem ser definidos dentro de um escopo que fa√ßa mais sentido pra voc√™.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/qb8aonyDOn">pic.twitter.com/qb8aonyDOn</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1430160463464214537?ref_src=twsrc%5Etfw">August 24, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Snapshots (especialmente nos arquivos externos) deixam os testes lentos pois envolvem opera√ß√£o de leitura/escrita em disco.<br><br>Uma boa estrat√©gia √© manter somente um para um caso geral, trocando os demais snapshots por asser√ß√µes mais comuns.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/HfrnYmBkj0">pic.twitter.com/HfrnYmBkj0</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1430522851862351878?ref_src=twsrc%5Etfw">August 25, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Snapshots n√£o s√£o exclusivos pra validar renderiza√ß√£o de componentes e podem ser usados para validar payload. Inclusive inlineSnapshots s√£o √≥timos para isso!<br><br>Voc√™ pode utiliz√°-los ao inv√©s do tradicional .toMatchObject em algumas situa√ß√µes.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/cMbMkiRQAu">pic.twitter.com/cMbMkiRQAu</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1430968290839470084?ref_src=twsrc%5Etfw">August 26, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>O mock de componentes internos quando estiver escrevendo testes unit√°rios de um componente &quot;pai&quot; (n√£o de integra√ß√£o) deixam os cen√°rios mais isolados.<br><br>Os data-test-id (que n√£o devemos abusar no c√≥digo real de componentes) podem ajudar.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/axjYZ0okLP">pic.twitter.com/axjYZ0okLP</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1431330680588357639?ref_src=twsrc%5Etfw">August 27, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Essa √© bem mais de boa...<br><br>Testes que utilizam Promises tendem a passar pela forma como s√£o executados.<br><br>N√£o esque√ßa de colocar expect.assertions, (principalmente nos casos de promises rejeitadas) pra evitar que resultem em falsos-positivos.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/gbtyKHCIbH">pic.twitter.com/gbtyKHCIbH</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1432417837742637058?ref_src=twsrc%5Etfw">August 30, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>√â comum ver em alguns tutoriais a utiliza√ß√£o do requireActual pra realizar um mock parcial de um arquivo e manter as implementa√ß√µes que voc√™ n√£o quer substituir (&quot;bypass&quot;).<br><br>O spyOn facilita muito esse trabalho e permite um maior controle.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/QQFSZJ54bV">pic.twitter.com/QQFSZJ54bV</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1432780225964773380?ref_src=twsrc%5Etfw">August 31, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Testando diversas entradas de valores (&quot;table-driven&quot;) de forma repetitiva?<br><br>O Jest possui uma implementa√ß√£o pr√≥pria pra te auxiliar nessa tarefa.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/M4TZe2ML5M">pic.twitter.com/M4TZe2ML5M</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1433142614732288007?ref_src=twsrc%5Etfw">September 1, 2021</a></blockquote>

---

<blockquote class="twitter-tweet" data-theme="dark"><p lang="pt" dir="ltr">JesTip üÉè<br><br>Finalizando nossa sequ√™ncia de pequenas dicas: no fim do dia teste tamb√©m √© c√≥digo!<br><br>Crie abstra√ß√µes necess√°rias pra facilitar o seu trabalho, seja pra fazer algum fluxo, constru√ß√£o de valores predefinidos ou realiza√ß√£o de ajustes que se repetem.<a href="https://twitter.com/hashtag/JavaScriptAssertivo?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScriptAssertivo</a> <a href="https://t.co/1W1lMiYDeZ">pic.twitter.com/1W1lMiYDeZ</a></p>&mdash; Gabriel Ramos (@gabrieluizramos) <a href="https://twitter.com/gabrieluizramos/status/1433505003625406465?ref_src=twsrc%5Etfw">September 2, 2021</a></blockquote>


<!-- Script para carregamento dos tweets -->
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
